(function(e){function t(t){for(var o,r,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/zdog-scope/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08e7":function(e,t,n){"use strict";n("e7cf")},"09fe":function(e,t,n){"use strict";n("22eb")},"0d8e":function(e,t,n){},1380:function(e,t,n){},"22eb":function(e,t,n){},"285f":function(e,t,n){"use strict";n("a8dd")},"2d93":function(e,t,n){"use strict";n("6b98")},"32f9":function(e,t,n){},"43de":function(e,t,n){"use strict";n("0d8e")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i=n("1da1"),a=(n("96cf"),n("b0c0"),n("7db0"),n("d3b7"),n("5502")),r=n("c78a"),c=function(){return{list:[],blockIds:[],selectedListNode:null,embed:null}},s=c(),l={},u={changeList:function(e){var t=e.commit;t("setList",Q.trimmedView())},sortItem:function(e,t){var n=e.dispatch;n("history/updateParent",t,{root:!0}),n("changeList")},startDrag:function(e,t){var n=e.commit,o=t.blockIds;n("setDragging",o)},stopDrag:function(e){var t=e.commit;t("setDragging",[])},saveSelected:function(e,t){var n=e.commit;n("setSelectedList",t)},clearSelected:function(e){var t=e.commit;t("setSelectedList",null)},changeDisplayName:function(e,t){var n=e.state;n.selectedListNode.name=t},createEmbed:function(e){var t=e.commit,n=Q.generateEmbed({selector:".zdog-canvas",mini:!0});t("setEmbed",n)},resetView:function(e){var t=e.commit;t("resetState")}},d={setList:function(e,t){e.list=t},setDragging:function(e,t){e.blockIds=t},setSelectedList:function(e,t){e.selectedListNode=t},setEmbed:function(e,t){e.embed=t},resetState:function(e){Object.assign(e,c())}},p={namespaced:!0,state:s,getters:l,actions:u,mutations:d},f=n("53ca"),h=(n("4de4"),n("b64b"),n("07ac"),n("a9e3"),n("8ba4"),n("caad"),n("2532"),n("776d")),b=n("91f9"),v=["rotate","translate","scale","front"],g=["fill","visible","closed","updateSort","dragRotate","centered","resize","backface"],O=["color","rearFace","frontFace","leftFace","rightFace","topFace","bottomFace","backface"],m=Object.keys(b.optionValidator).filter((function(e){return"number"==b.optionValidator[e].type})),j={anchor:["rotate","translate","scale"],ellipse:["diameter","width","height","quarters"],box:["depth","frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],polygon:["sides","radius"],illustration:["centered","zoom","dragRotate","resize"],vector:["x","y","z"],rect:["width","height"],roundedrect:["width","height","cornerRadius"],shape:["path","stroke","fill","color","closed","visible","path","front","backface"],hemisphere:["diameter","backface"],group:["updateSort","visible"],cylinder:["diameter","length","backface","frontFace"],cone:["diameter","length","backface"]};function y(e){for(var t=[],n=Object.keys(e),o=Object.values(e),i=0;i<n.length;i++){var a=n[i],r=o[i],c=b.optionValidator[a].type;if(("backface"!=a||"string"!=typeof r)&&Object(f["a"])(r)!=c){if("Array"==c){if(Array.isArray(r))continue}else if("integer"==c){var s=Number(r);if(Number.isInteger(s))continue}else if("number"==c){var l=Number(r);if(!isNaN(l))continue}t.push(a)}}return t}var w={colors:function(e){return e.filter((function(e){return O.includes(e)}))},vectors:function(e){return e.filter((function(e){return v.includes(e)}))},bools:function(e){return e.filter((function(e){return g.includes(e)&&"backface"!=e}))},nums:function(e){return e.filter((function(e){return m.includes(e)}))}};function k(e){var t=e.selectedNode,n=t.constructor.optionKeys,o=Object(h["d"])(t),i=["colors","vectors","bools","nums"],a={};return i.forEach((function(e){a[e]=w[e](n)})),{node:o,props:a}}var C,S=function(){return{invalidFields:null,validationSuccess:!1,tooltip:null,displayProps:{node:null,props:null}}},P=S(),x={validationFailed:function(e){return 0==e.validationSuccess&&e.invalidFields},BOOL_PROPS:function(){return g},VECTOR_PROPS:function(){return v},COLOR_PROPS:function(){return O},CREATE_PROPS:function(){return j},NUM_PROPS:function(){return m}},N={changeDisplay:function(e){var t=e.commit,n=e.rootGetters;t("setDisplayProps",k(n))},reset:function(e){var t=e.commit;t("resetState")},updateProps:function(e,t){var n=e.dispatch,o=e.rootGetters,i=o.selectedNode,a=Object.assign({},t);delete a["type"],delete a["id"];for(var r=Object.keys(a),c=0,s=r;c<s.length;c++){var l=s[c];m.includes(l)&&(a[l]=Number(a[l]))}n("history/updateProps",{node:i,options:a},{root:!0})},validateFields:function(e,t){var n=e.commit,o=y(t);o.length>0?n("VALIDATION_FAIL",o):n("VALIDATION_SUCCESS")},validationReset:function(e){var t=e.commit;t("VALIDATION_RESET")}},T={VALIDATION_FAIL:function(e,t){e.validationSuccess=!1,e.invalidFields=t},VALIDATION_SUCCESS:function(e){e.validationSuccess=!0,e.invalidFields=null},VALIDATION_RESET:function(e){e.validationSuccess=!1,e.invalidFields=null},setTooltip:function(e,t){e.tooltip=t},setDisplayProps:function(e,t){e.displayProps=t||{node:null,props:null}},editDisplayProps:function(e,t){Object.assign(e.displayProps.node,t)},resetState:function(e){Object.assign(e,S())}},I={namespaced:!0,state:P,getters:x,actions:N,mutations:T},z=n("3835"),D=n("2909"),R=(n("159b"),n("4fadc"),n("938c")),M=new R["a"]({t:100,scaleZoom:!0});M.showNeg(!1);var E,A=function(){return{settings:{backgroundColor:"#808080",scene:{panInverse:!1,zoomSpeed:3,panSpeed:30,ghostQuery:"#ghost"}}}},_=A(),V={},L={changeSetting:function(e,t){var n=e.commit;n("setSetting",t)},showCanvasAxes:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,e.state,t.next=3,n("clearCanvasAxes");case 3:o=Q.illustration,o.updateRenderGraph();case 5:case"end":return t.stop()}}),t)})))()},showSelectedAxes:function(e){var t=e.rootState,n=e.rootGetters,o=n.selectedNode;if(t.selected!=t.illustration){var i=[o.stroke,o.length,o.depth,o.width,o.height,o.radius,o.diameter].filter((function(e){return e})),a=Math.max.apply(Math,Object(D["a"])(i)),r=o.scale.x*o.scale.y*o.scale.z;a=a*r*3,M.axes.forEach((function(e){e.t=a})),M.addTo(o)}},clearSelectedAxes:function(){M.remove()},clearCanvasAxes:function(){C&&C.remove(),C=null},reset:function(e){var t=e.commit,n=e.dispatch;n("clearSelectedAxes"),n("clearCanvasAxes"),t("resetState")},restoreDefaultSettings:function(e){var t=e.commit;t("setDefaultSettings")}},F={setSetting:function(e,t){for(var n=0,o=Object.entries(t);n<o.length;n++){var i=Object(z["a"])(o[n],2),a=i[0],r=i[1];e.settings[a]=r}},setDefaultSettings:function(e){Object.assign(e.settings,A().settings)}},$={namespaced:!0,state:_,getters:V,actions:L,mutations:F},B=n("d4ec"),U=n("bee2"),W=n("ade3");n("e9c4"),n("bf19"),n("d9e2");function G(e){var t=[];function n(e){if(e&&"object"===Object(f["a"])(e)){if(-1!==t.indexOf(e))return!0;for(var o in t.push(e),e)if(e.hasOwnProperty(o)&&n(e[o]))return console.log(e,"cycle at "+o),!0}return!1}return n(e)}var Z=function(){function e(){Object(B["a"])(this,e),Object(W["a"])(this,"store",void 0),Object(W["a"])(this,"history",[]),Object(W["a"])(this,"currentIndex",-1),Object(W["a"])(this,"limit",-1)}return Object(U["a"])(e,[{key:"init",value:function(e){this.store=e}},{key:"addState",value:function(e){for(var t=Q.toJSON(),n=this.history.length-1,o=this.currentIndex;o<n;o++)this.history.pop();try{this.history.push(t)}catch(i){console.log(i),console.log(G(t))}this.currentIndex=this.history.length-1}},{key:"undo",value:function(){this.currentIndex<=0||(this.currentIndex--,this.rebuild())}},{key:"redo",value:function(){this.currentIndex>=this.history.length-1||(this.currentIndex++,this.rebuild())}},{key:"rebuild",value:function(){var e=this.history[this.currentIndex];this.store.dispatch("rebuildZtree",new r["b"].Reader(e).tree)}},{key:"reset",value:function(){this.history=null,this.history=[],this.currentIndex=-1}}]),e}(),J=function(e){E=new Z(e),E.init(e),e.subscribe((function(e,t){if("setIllustration"==e.type)return E.reset(),void E.addState(t);var n=e.type.substring(0,7);"history"==n&&E.addState(t)}))},H={newZdog:function(e,t){var n=e.commit,o=e.dispatch,i=t.type,a=t.options,c=t.name;a.addTo?a.addTo=Q.find(a.addTo):a.addTo=Q.illustration;var s=Object(r["b"])(i)(a);c&&(s.name=c),n("addNode",s),o("treeview/changeList",null,{root:!0})},deleteZdog:function(e,t){var n=e.commit,o=e.dispatch;n("removeNode",t),o("changeSelected",null,{root:!0})},updateProps:function(e,t){var n=e.commit,o=e.dispatch;n("setNodeProps",t),o("properties/changeDisplay",null,{root:!0})},updateParent:function(e,t){var n=e.commit;n("changeParent",t)},updateSelectedName:function(e,t){var n=e.commit,o=e.rootState,i=e.rootGetters,a=e.dispatch;if(!o.selected)throw new Error("Cannot assign name to null selected node");n("setNodeProps",{node:i.selectedNode,options:{name:t}}),a("treeview/changeList",null,{root:!0})}};var q={addNode:function(e,t){if(!Q)throw new Error("Cannot add node to nonexistent tree");X.addNode(t)},setNodeProps:function(e,t){var n=t.node,o=t.options;X.updateNode({node:n,options:o})},removeNode:function(e,t){X.removeNode(t)},changeParent:function(e,t){var n=t.id,o=t.newParentId;X.changeParent(n,o)}},K={namespaced:!0,actions:H,mutations:q},Y=(n("252a"),!1),Q=new r["b"].Tree,X=(new r["b"].Reader,null);function ee(e){e instanceof r["b"].Tree?Q=e:e.options?(Q=new r["b"].Tree(e.options),e.name&&(Q.illustration.name=e.name)):Q=new r["b"].Tree({})}function te(e){(X||null==e)&&(X.destroy(),X=null),X=new r["b"].Scene(Q,e.canvas.settings.scene)}var ne={keydown:function(e){e.ctrlKey&&(90==e.keyCode?e.shiftKey?E.redo():E.undo():89==e.keyCode&&E.redo()),X&&X.keydown(e)},keyup:function(e){X&&X.keyup(e)}};function oe(){for(var e in ne)window.addEventListener(e,ne[e])}function ie(){for(var e in ne)window.removeEventListener(e,ne[e])}var ae=function(){return{selected:null,illustration:null,treeLoaded:!1,paused:!1}},re=ae(),ce={selectedNode:function(e){if(Q)return Q.find(e.selected)}},se={createZtree:function(e,t){var n=e.commit,o=e.dispatch;ee(t),n("setZtree",t),o("canvas/showCanvasAxes")},rebuildZtree:function(e,t){var n=e.commit,o=e.dispatch;X.unanimate(),Q.illustration.children=t.illustration.children,Q.nodeMap=t.nodeMap,Q.relationMap=t.relationMap,Q.illustration.updateRenderGraph(),X.ghostCanvas.pruneGhost(),X.unitAxes.addTo(X.illustration),X.animate(),n("setZtree",!0),o("treeview/changeList"),o("properties/changeDisplay")},newIllustration:function(e,t){var n=e.dispatch,o=e.commit,i=e.state;t||(t={}),ie(),n("createZtree",t),o("setIllustration",!0),te(i),X.on("selectshape",(function(e){n("changeSelected",e.detail.id)})),X.on("deselect",(function(){n("changeSelected",null)})),oe()},demoJSON:function(e,t){var n=e.dispatch,o=new r["b"].Reader(t);n("changeSelected",null),n("treeview/resetView"),n("newIllustration",o.tree)},changeSelected:function(e,t){var n=e.commit,o=e.dispatch,i=e.state;if(i.selected!=t){if(n("setSelected",t),!t)return o("treeview/clearSelected"),void o("properties/reset");o("properties/changeDisplay")}},pause:function(e,t){var n=e.commit;X&&(t?X.unanimate():X.animate()),n("setPause",t)},exportTree:function(){new r["b"].Reader(Q).download()},importTree:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,(new r["b"].Reader).load();case 3:o=t.sent,n("changeSelected",null),n("treeview/resetView"),n("newIllustration",o);case 7:case"end":return t.stop()}}),t)})))()}},le={setZtree:function(e,t){if(!t)return e.treeLoaded=!1,void te(null);e.updateTree=!e.updateTree,e.treeLoaded=!0},setIllustration:function(e,t){t||(e.illustration=null),e.illustration=Q.illustration.id},setPause:function(e,t){e.paused=t},setSelected:function(e,t){e.selected=t},resetState:function(e){Object.assign(e,ae())}},ue=[J];Y&&ue.push(Object(a["a"])());var de=Object(a["b"])({modules:{treeview:p,properties:I,canvas:$,history:K},state:re,getters:ce,mutations:le,actions:se,plugins:ue}),pe={class:"split-grid overlay"},fe={ref:"treeview",class:"split-column tree-view no-select"},he={ref:"gutter1",class:"gutter-column-1"},be={class:"split-column",ref:"canvasWrapper"},ve={ref:"gutter2",class:"gutter-column-2"},ge={class:"split-column properties"};function Oe(e,t,n,i,a,r){var c=Object(o["v"])("TopBar"),s=Object(o["v"])("TreeView"),l=Object(o["v"])("Canvas"),u=Object(o["v"])("PropertyPanel");return Object(o["o"])(),Object(o["f"])("main",{onClick:t[0]||(t[0]=function(){return r.deselect&&r.deselect.apply(r,arguments)})},[Object(o["i"])(c,{ref:"menuTopbar"},null,512),Object(o["g"])("div",pe,[Object(o["g"])("div",fe,[Object(o["i"])(s)],512),Object(o["g"])("div",he,null,512),Object(o["g"])("div",be,[Object(o["i"])(l)],512),Object(o["g"])("div",ve,null,512),Object(o["g"])("div",ge,[Object(o["i"])(u,{ref:"menuPropertyPanel"},null,512)])])])}var me=n("5530"),je=(n("ac1f"),n("1276"),n("99af"),{class:"toolbar row"}),ye={"aria-label":"Create new",tabIndex:"0"},we=["aria-label"],ke=Object(o["g"])("p",null,"WARNING: Are you sure you want to replace the current illustration?",-1);function Ce(e,t,n,i,a,r){var c=Object(o["v"])("Creation"),s=Object(o["v"])("Modal"),l=Object(o["v"])("Settings");return Object(o["o"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("div",je,[Object(o["g"])("button",{onClick:t[0]||(t[0]=function(){return r.settings&&r.settings.apply(r,arguments)})}," Settings "),r.hasIllustration?(Object(o["o"])(),Object(o["f"])("button",{key:0,onClick:t[1]||(t[1]=function(){return e.exportTree&&e.exportTree.apply(e,arguments)})}," Export ")):Object(o["e"])("",!0),Object(o["g"])("button",{onClick:t[2]||(t[2]=function(){return r.importing&&r.importing.apply(r,arguments)})}," Import "),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(){return r.demo&&r.demo.apply(r,arguments)})}," Demo "),Object(o["g"])("div",ye,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.creatables,(function(e,n){return Object(o["o"])(),Object(o["f"])("button",{key:"".concat(e,"_").concat(n),"aria-label":e,class:Object(o["l"])({hidden:"illustration"!=e&&!r.hasIllustration}),onClick:t[4]||(t[4]=function(){return r.promptCreate&&r.promptCreate.apply(r,arguments)})}," +"+Object(o["x"])(e),11,we)})),128))])]),(Object(o["o"])(),Object(o["d"])(o["b"],{to:"body"},[!a.bWarning&&r.hasIllustration&&a.creationItemType?(Object(o["o"])(),Object(o["d"])(s,{key:0,onClose:r.cancelPrompt},{default:Object(o["B"])((function(){return[Object(o["i"])(c,{itemtype:a.creationItemType,onClosePrompt:r.cancelPrompt},null,8,["itemtype","onClosePrompt"])]})),_:1},8,["onClose"])):Object(o["e"])("",!0),a.bWarning&&r.hasIllustration?(Object(o["o"])(),Object(o["d"])(s,{key:1,onClose:r.cancelPrompt},{default:Object(o["B"])((function(){return[ke,Object(o["g"])("button",{onClick:t[5]||(t[5]=function(){return r.closeWarning&&r.closeWarning.apply(r,arguments)})}," Yes "),Object(o["g"])("button",{onClick:t[6]||(t[6]=function(){return r.cancelPrompt&&r.cancelPrompt.apply(r,arguments)})}," Cancel ")]})),_:1},8,["onClose"])):Object(o["e"])("",!0),a.bSettings?(Object(o["o"])(),Object(o["d"])(s,{key:2,onClose:r.cancelPrompt},{default:Object(o["B"])((function(){return[Object(o["i"])(l,{onClosePrompt:r.cancelPrompt},null,8,["onClosePrompt"])]})),_:1},8,["onClose"])):Object(o["e"])("",!0)]))],64)}var Se={ref:"figure",tabIndex:"0"};function Pe(e,t,n,i,a,r){return Object(o["o"])(),Object(o["f"])("div",{class:"modal",onKeydown:t[2]||(t[2]=function(){return e.keydownHandler&&e.keydownHandler.apply(e,arguments)})},[Object(o["g"])("div",{class:"dimmer",onClick:t[0]||(t[0]=function(){return e.close&&e.close.apply(e,arguments)})}),Object(o["g"])("button",{class:"close",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})}," X "),Object(o["g"])("figure",Se,[Object(o["u"])(e.$slots,"default",{},void 0,!0)],512)],32)}var xe={emits:["close"],data:function(){return{isActive:!1}},methods:{close:function(){this.$emit("close")},keydownHandler:function(e){"Escape"==e.key&&this.close()}}},Ne=xe,Te={name:"Modal",mixins:[Ne],mounted:function(){this.$refs.figure.focus(),this.$store.dispatch("pause",!0)},unmounted:function(){this.$store.dispatch("pause",!1)}},Ie=(n("6a61"),n("6b0d")),ze=n.n(Ie);const De=ze()(Te,[["render",Pe],["__scopeId","data-v-37953d71"]]);var Re=De,Me=function(e){return Object(o["q"])("data-v-2ffd653c"),e=e(),Object(o["p"])(),e},Ee={key:0},Ae={key:0},_e=Object(o["h"])(" Warning: fields that failed validation: "),Ve=Me((function(){return Object(o["g"])("p",null,"Please fix them before proceeding.",-1)})),Le={class:"field-list"},Fe={class:"row"},$e={class:"input-name"},Be={class:"row between-"},Ue={key:0,class:"field-list col"},We={key:1,class:"col"},Ge={key:2,class:"row"},Ze={class:"field-list col"},Je=["for"],He=["id","onUpdate:modelValue","checked"],qe={key:3,class:"field-list col"},Ke={key:4,class:"col"},Ye={key:5,class:"row"},Qe={key:0,class:"field-list col"},Xe=["for"],et=["id","onUpdate:modelValue","checked"];function tt(e,t,n,i,a,r){var c=Object(o["v"])("InputLabel"),s=Object(o["v"])("ColorPicker"),l=Object(o["v"])("InputVector"),u=Object(o["v"])("Backface");return n.itemtype?(Object(o["o"])(),Object(o["f"])("div",Ee,[Object(o["g"])("h2",null,"Create new "+Object(o["x"])(n.itemtype),1),r.bWarning?(Object(o["o"])(),Object(o["f"])("div",Ae,[_e,(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(e.invalidFields,(function(e){return Object(o["o"])(),Object(o["f"])("p",{key:e},Object(o["x"])(e)+" needs a "+Object(o["x"])(r.validSchema[e].type),1)})),128)),Ve])):Object(o["e"])("",!0),Object(o["g"])("form",Le,[Object(o["g"])("div",Fe,[Object(o["g"])("label",$e,[Object(o["C"])(Object(o["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.wipAssignedName=e}),type:"text",placeholder:"untitled"},null,512),[[o["z"],a.wipAssignedName]])])]),Object(o["g"])("div",Be,[r.numProps(r.mainProps).length>0?(Object(o["o"])(),Object(o["f"])("div",Ue,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.numProps(r.mainProps),(function(t){return Object(o["o"])(),Object(o["d"])(c,{key:"".concat(t,"_creation"),for:"".concat(t,"_creation"),id:"".concat(t,"_creation"),element:"input",modelValue:a.wipOptions[t],"onUpdate:modelValue":function(e){return a.wipOptions[t]=e},type:"number",step:"0.1",placeholder:r.optionDefault(t),name:t,onInput:function(e){return a.wipOptions[t]=e.target.value}},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t))+": ",1)]})),_:2},1032,["for","id","modelValue","onUpdate:modelValue","placeholder","name","onInput"])})),128))])):Object(o["e"])("",!0),r.colorProps(r.mainProps).length>0?(Object(o["o"])(),Object(o["f"])("div",We,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.colorProps(r.mainProps),(function(t){return Object(o["o"])(),Object(o["f"])("span",{key:t},[Object(o["h"])(Object(o["x"])(e.capitalize(t))+" ",1),Object(o["i"])(s,{onUpdate:function(e){return r.updateColor(t,e)}},null,8,["onUpdate"])])})),128))])):Object(o["e"])("",!0),r.vectorProps(r.mainProps).length>0?(Object(o["o"])(),Object(o["f"])("div",Ge,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.vectorProps(r.mainProps),(function(t){return Object(o["o"])(),Object(o["d"])(l,{id:"".concat(t,"_creation"),key:"".concat(t,"_creation"),value:r.optionDefault(t),degrees:"rotate"==t},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t)),1)]})),_:2},1032,["id","value","degrees"])})),128)),Object(o["g"])("div",Ze,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.boolProps(r.mainProps),(function(t){return Object(o["o"])(),Object(o["f"])("label",{key:"".concat(t,"_creation"),for:"".concat(t,"_creation")},[Object(o["h"])(Object(o["x"])(e.capitalize(t))+" ",1),Object(o["C"])(Object(o["g"])("input",{id:"".concat(t,"_creation"),"onUpdate:modelValue":function(e){return a.wipOptions[t]=e},type:"checkbox",checked:r.optionDefault(t)},null,8,He),[[o["y"],a.wipOptions[t]]])],8,Je)})),128))])])):Object(o["e"])("",!0),r.numProps(r.miscProps).length>0?(Object(o["o"])(),Object(o["f"])("div",qe,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.numProps(r.miscProps),(function(t){return Object(o["o"])(),Object(o["d"])(c,{key:"".concat(t,"_creation"),for:"".concat(t,"_creation"),id:"".concat(t,"_creation"),element:"input",modelValue:a.wipOptions[t],"onUpdate:modelValue":function(e){return a.wipOptions[t]=e},type:"number",step:"0.1",placeholder:r.optionDefault(t),name:t,onInput:function(e){return a.wipOptions[t]=e.target.value}},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t))+": ",1)]})),_:2},1032,["for","id","modelValue","onUpdate:modelValue","placeholder","name","onInput"])})),128))])):Object(o["e"])("",!0),r.colorProps(r.miscProps).length>0?(Object(o["o"])(),Object(o["f"])("div",Ke,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.colorProps(r.miscProps),(function(t){return Object(o["o"])(),Object(o["f"])("span",{key:t},[Object(o["h"])(Object(o["x"])(e.capitalize(t))+" ",1),Object(o["i"])(s,{onUpdate:function(e){return r.updateColor(t,e)}},null,8,["onUpdate"])])})),128))])):Object(o["e"])("",!0),r.vectorProps(r.miscProps).length>0?(Object(o["o"])(),Object(o["f"])("div",Ye,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.vectorProps(r.miscProps),(function(t){return Object(o["o"])(),Object(o["d"])(l,{id:"".concat(t,"_creation"),key:"".concat(t,"_creation"),default:r.optionDefault(t),degrees:"rotate"==t},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t)),1)]})),_:2},1032,["id","default","degrees"])})),128)),r.boolProps(r.miscProps).length>0?(Object(o["o"])(),Object(o["f"])("div",Qe,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.boolProps(r.miscProps),(function(t){return Object(o["o"])(),Object(o["f"])("label",{key:"".concat(t,"_creation"),for:"".concat(t,"_creation")},[Object(o["h"])(Object(o["x"])(e.capitalize(t))+" ",1),Object(o["C"])(Object(o["g"])("input",{id:"".concat(t,"_creation"),"onUpdate:modelValue":function(e){return a.wipOptions[t]=e},type:"checkbox",checked:r.optionDefault(t)},null,8,et),[[o["y"],a.wipOptions[t]]])],8,Xe)})),128)),Object(o["i"])(u,{id:"backface_create",threeD:r.isThreeD,checked:r.optionDefault("backface"),onUpdate:t[1]||(t[1]=function(e){return r.updateColor("backface",e)})},null,8,["threeD","checked"])])):Object(o["e"])("",!0)])):Object(o["e"])("",!0)])]),Object(o["g"])("button",{onClick:t[2]||(t[2]=function(){return r.submit&&r.submit.apply(r,arguments)})}," Create ")])):Object(o["e"])("",!0)}var nt={key:0,class:"input-vector degrees"},ot={class:"title"},it={key:1,class:"input-vector"},at={class:"title"},rt=["for"],ct=Object(o["h"])(" x: "),st=["id","value","placeholder","step"],lt=["for"],ut=Object(o["h"])(" y: "),dt=["id","value","placeholder","step"],pt=["for"],ft=Object(o["h"])(" z: "),ht=["id","value","placeholder","step"];function bt(e,t,n,i,a,r){var c=Object(o["v"])("InputVectorTooltip");return r.degrees?(Object(o["o"])(),Object(o["f"])("div",nt,[Object(o["g"])("div",ot,[Object(o["u"])(e.$slots,"default")]),Object(o["i"])(c,{id:"degrees",label:"x",value:r.toDeg(n.value.x),placeholder:r.defaultVal.x,onChangev:t[0]||(t[0]=function(e){return r.tooltipChange("x",e)})},null,8,["value","placeholder"]),Object(o["i"])(c,{id:"degrees",label:"y",value:r.toDeg(n.value.y),placeholder:r.defaultVal.y,onChangev:t[1]||(t[1]=function(e){return r.tooltipChange("y",e)})},null,8,["value","placeholder"]),Object(o["i"])(c,{id:"degrees",label:"z",value:r.toDeg(n.value.z),placeholder:r.defaultVal.z,onChangev:t[2]||(t[2]=function(e){return r.tooltipChange("z",e)})},null,8,["value","placeholder"])])):(Object(o["o"])(),Object(o["f"])("div",it,[Object(o["g"])("div",at,[Object(o["u"])(e.$slots,"default")]),Object(o["g"])("label",{for:"".concat(n.id,"x")},[ct,Object(o["g"])("input",{id:"".concat(n.id,"z"),value:n.value.x,type:"number",name:"x",autocomplete:"off",placeholder:r.defaultVal.x,step:r.step,onChange:t[3]||(t[3]=function(e){return r.inputChange("x",e)})},null,40,st)],8,rt),Object(o["g"])("label",{for:"".concat(n.id,"y")},[ut,Object(o["g"])("input",{id:"".concat(n.id,"y"),value:n.value.y,type:"number",name:"y",autocomplete:"off",placeholder:r.defaultVal.y,step:r.step,onChange:t[4]||(t[4]=function(e){return r.inputChange("y",e)})},null,40,dt)],8,lt),Object(o["g"])("label",{for:"".concat(n.id,"z")},[ft,Object(o["g"])("input",{id:"".concat(n.id,"z"),value:n.value.z,type:"number",name:"z",autocomplete:"off",placeholder:r.defaultVal.z,step:r.step,onChange:t[5]||(t[5]=function(e){return r.inputChange("z",e)})},null,40,ht)],8,pt)]))}n("d81d");var vt={class:"input-coord"},gt=["for"],Ot=["id","value","name","placeholder"],mt=Object(o["h"])(" ° "),jt={class:"degree-range"},yt=["value","min","max"];function wt(e,t,n,i,a,r){var c=Object(o["v"])("Tooltip");return Object(o["o"])(),Object(o["f"])("div",vt,[Object(o["g"])("label",{for:"".concat(n.id).concat(n.label),class:Object(o["l"])({z100:a.editing})},[Object(o["h"])(Object(o["x"])(n.label)+": ",1),Object(o["g"])("input",{id:"".concat(n.id).concat(n.label),class:"input-degrees",value:n.value,type:"number",name:n.label,autocomplete:"off",placeholder:n.placeholder,onChange:t[0]||(t[0]=function(){return r.changeV&&r.changeV.apply(r,arguments)}),onClick:t[1]||(t[1]=function(){return r.open&&r.open.apply(r,arguments)})},null,40,Ot),mt],10,gt),a.editing?(Object(o["o"])(),Object(o["d"])(c,{key:0,onClose:r.close},{default:Object(o["B"])((function(){return[Object(o["g"])("div",jt,[Object(o["g"])("label",null,Object(o["x"])("".concat(r.min,"°")),1),Object(o["g"])("input",{value:n.value,type:"range",min:r.min,max:r.max,onChange:t[2]||(t[2]=function(){return r.changeV&&r.changeV.apply(r,arguments)})},null,40,yt),Object(o["g"])("label",null,Object(o["x"])("".concat(r.max,"°")),1)])]})),_:1},8,["onClose"])):Object(o["e"])("",!0)])}var kt={class:"tooltip-wrapper"},Ct={class:"tooltip-popover"};function St(e,t,n,i,a,r){return Object(o["o"])(),Object(o["f"])("div",kt,[Object(o["g"])("div",{class:"closer",onClick:t[0]||(t[0]=function(){return e.close&&e.close.apply(e,arguments)})}),Object(o["g"])("div",Ct,[Object(o["u"])(e.$slots,"default")])])}var Pt={name:"Tooltip",mixins:[Ne]};n("285f");const xt=ze()(Pt,[["render",St]]);var Nt=xt,Tt={name:"InputVectorTooltip",components:{Tooltip:Nt},mixins:[Ne],emits:["changev"],props:{id:String,label:String,value:Number,placeholder:Number},data:function(){return{editing:!1}},computed:{min:function(){return 0},max:function(){return 360}},methods:{changeV:function(e){this.$emit("changev",e.target.value)},close:function(){this.editing=!1},open:function(){this.editing=!0}}};n("2d93");const It=ze()(Tt,[["render",wt]]);var zt=It,Dt={name:"InputVector",components:{InputVectorTooltip:zt},props:{id:{type:String,default:null},type:{type:String,default:"translate"},value:{type:Object,default:function(){return{x:0,y:0,z:0}}}},emits:["send-coords","open-tooltip"],mounted:function(){this.euler=this.defaultVal},data:function(){return{euler:{x:null,y:null,z:null},editx:!1,edity:!1,editz:!1}},computed:{defaultVal:function(){var e=this,t=this.value;if("string"==typeof t&&(t=JSON.parse(t)),this.degrees){var n=Object.assign({},t);return Object.keys(n).map((function(t){Math.trun,n[t]=e.toDeg(n[t]),e.euler[t]=n[t]})),n}return t},degrees:function(){return"rotate"==this.type},step:function(){return"scale"==this.type?.01:.1}},methods:{sendCoords:function(e){var t=e.target.value;t!=e.target.placeholder&&""!=t&&this.emitCoords()},toRad:function(e){return Math.PI*e/180},toDeg:function(e){var t=180*e/Math.PI;return Math.round(t)},emitCoords:function(){var e=this,t=Object.assign({},this.euler);Object.keys(t).forEach((function(n){if(null==t[n])delete t[n];else if(e.degrees){var o=Number(t[n])%360;t[n]=e.toRad(o)}else t[n]=Number(t[n])})),this.$emit("send-coords",t)},editDegrees:function(e){this.stopEditDegrees(),this.$emit("open-tooltip"),"x"==e?this.editx=!0:"y"==e?this.edity=!0:"z"==e&&(this.editz=!0)},stopEditDegrees:function(){this.editx=!1,this.edity=!1,this.editz=!1},closeTooltip:function(){this.stopEditDegrees()},inputChange:function(e,t){this.euler[e]=t.target.value,this.emitCoords()},tooltipChange:function(e,t){this.euler[e]=t,this.emitCoords()}}};n("43de");const Rt=ze()(Dt,[["render",bt]]);var Mt=Rt,Et={class:"picker-wrapper"},At={key:0,class:"picker",ref:"picker"};function _t(e,t,n,i,a,r){return Object(o["o"])(),Object(o["f"])("div",Et,[Object(o["g"])("a",{class:"picker-button",onClick:t[4]||(t[4]=function(){return r.open&&r.open.apply(r,arguments)})},[Object(o["g"])("div",{class:"patch",style:Object(o["m"])({backgroundColor:a.wipColor}),onClick:t[0]||(t[0]=function(){return r.toggle&&r.toggle.apply(r,arguments)})},null,4),Object(o["C"])(Object(o["g"])("input",{type:"text","aria-label":"colorpicker","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.wipColor=e}),onChange:t[2]||(t[2]=function(){return r.colorEnter&&r.colorEnter.apply(r,arguments)}),onBlur:t[3]||(t[3]=function(){return r.close&&r.close.apply(r,arguments)})},null,544),[[o["z"],a.wipColor]])]),a.isActive?(Object(o["o"])(),Object(o["f"])("figure",At,null,512)):Object(o["e"])("",!0)])}var Vt=n("a900"),Lt={name:"ColorPicker",props:{color:{type:String,default:"#333"}},emits:["close","update"],data:function(){return{colorPicker:null,isActive:!1,wipColor:this.color}},methods:{open:function(){var e=this;this.isActive||(this.isActive=!0,this.$nextTick((function(){e.wipColor=e.color,e.mountPicker()})))},close:function(){this.isActive=!1},toggle:function(e){e.stopPropagation(),e.preventDefault(),this.isActive?this.close():this.open()},colorEnter:function(e){this.colorPicker.color.set(e.target.value),this.wipColor=this.colorPicker.color.rgbaString,this.$emit("update",this.wipColor)},mountPicker:function(){var e=this;e.colorPicker=new Vt["a"].ColorPicker(e.$refs.picker,{color:e.color,width:200,layout:[{component:Vt["a"].ui.Box},{component:Vt["a"].ui.Slider,options:{sliderType:"hue"}},{component:Vt["a"].ui.Slider,options:{sliderType:"alpha"}}]}),e.colorPicker.on("color:change",(function(t){e.wipColor=t.rgbaString})),e.colorPicker.on("input:end",(function(t){e.$emit("update",t.rgbaString)}))}}};n("08e7");const Ft=ze()(Lt,[["render",_t]]);var $t=Ft,Bt={class:"col"},Ut=["for"],Wt=Object(o["h"])(" Backface "),Gt=["id"];function Zt(e,t,n,i,a,r){var c=Object(o["v"])("ColorPicker");return Object(o["o"])(),Object(o["f"])("div",Bt,[Object(o["g"])("label",{for:n.id},[Wt,Object(o["C"])(Object(o["g"])("input",{id:n.id,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.bChecked=e}),onChange:t[1]||(t[1]=function(){return r.change&&r.change.apply(r,arguments)})},null,40,Gt),[[o["y"],a.bChecked]])],8,Ut),a.bChecked&&n.threeD?(Object(o["o"])(),Object(o["d"])(c,{key:0,color:n.color,onUpdate:r.update},null,8,["color","onUpdate"])):Object(o["e"])("",!0)])}var Jt={name:"Backface",components:{ColorPicker:$t},props:{id:{type:String,default:"backface"},color:{type:String,default:"#333"},threeD:{type:Boolean,default:!1},checked:{type:Boolean,default:!1}},emits:["update"],data:function(){return{bChecked:this.checked,chooseColor:null}},methods:{update:function(e){this.chooseColor=e,this.$emit("update",e)},change:function(){0==this.bChecked?(this.chooseColor=null,this.$emit("update",!1)):1==this.bChecked&&null==this.chooseColor&&this.$emit("update",!0)}}};const Ht=ze()(Jt,[["render",Zt]]);var qt=Ht,Kt=["for"];function Yt(e,t,n,i,a,r){return Object(o["o"])(),Object(o["f"])("label",{class:"input",for:n.name},[Object(o["u"])(e.$slots,"default"),(Object(o["o"])(),Object(o["d"])(Object(o["w"])(n.element),Object(o["k"])(e.$attrs,{autocomplete:"off",autocorrect:"off"}),null,16))],8,Kt)}var Qt={name:"InputLabel",mixins:[r["b"]],inheritAttrs:!1,components:{ColorPicker:$t},props:{name:{type:String,default:null},element:{type:String,default:"input"}},emits:["model-value"],computed:{},methods:{}};n("70bd");const Xt=ze()(Qt,[["render",Yt]]);var en=Xt,tn={name:"Creation",components:{InputVector:Mt,ColorPicker:$t,Backface:qt,InputLabel:en},mixins:[r["a"]],props:{itemtype:{type:String,default:null}},emits:["close-prompt"],data:function(){return{wipOptions:{},wipAssignedName:null,appendTo:"selected"}},methods:Object(me["a"])(Object(me["a"])({},Object(a["c"])({newZdogObject:"history/newZdog",validateFields:"properties/validateFields",newIllustration:"newIllustration",validationReset:"properties/validationReset"})),{},{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateFields(e.wipOptions);case 2:e.validationSuccess&&e.createNew();case 3:case"end":return t.stop()}}),t)})))()},createNew:function(){var e=Object.assign({},this.wipOptions),t={type:this.itemtype,options:e,name:this.wipAssignedName};"illustration"==this.itemtype?this.newIllustration(t):(this.selected&&(t.options.addTo=this.selected),this.newZdogObject(t)),this.$emit("close-prompt")},optionDefault:function(e){return b.optionValidator[e].default},updateColor:function(e,t){this.wipOptions[e]=t},numProps:function(e){var t=this,n=e.filter((function(e){return t.NUM_PROPS.includes(e)}));return n},boolProps:function(e){var t=this;return e.filter((function(e){return t.BOOL_PROPS.includes(e)&&"backface"!=e}))},vectorProps:function(e){var t=this;return e.filter((function(e){return t.VECTOR_PROPS.includes(e)}))},colorProps:function(e){var t=this;return e.filter((function(e){return t.COLOR_PROPS.includes(e)}))},log:function(e){console.log(e.target.value),console.log(this.wipOptions)}}),computed:Object(me["a"])(Object(me["a"])(Object(me["a"])({},Object(a["e"])({invalidFields:function(e){return e.properties.invalidFields},validationSuccess:function(e){return e.properties.validationSuccess},selected:function(e){return e.selected}})),Object(a["d"])("properties",["BOOL_PROPS","VECTOR_PROPS","COLOR_PROPS","NUM_PROPS","CREATE_PROPS","validationFailed"])),{},{mainProps:function(){return this.CREATE_PROPS[this.itemtype]},miscProps:function(){var e=this;return Object(r["c"])(this.itemtype).filter((function(t){return!e.mainProps.includes(t)}))},validSchema:function(){return b.optionValidator},bWarning:{get:function(){return this.validationFailed},set:function(e){0==e&&this.validationReset()}},isThreeD:function(){return"cylinder"==this.itemtype||"hemisphere"==this.itemtype||"cone"==this.itemtype}}),watch:{itemtype:function(){this.wipOptions={}}}};n("8e3a");const nn=ze()(tn,[["render",tt],["__scopeId","data-v-2ffd653c"]]);var on=nn,an=Object(o["h"])(" Background Color: ");function rn(e,t,n,i,a,r){var c=Object(o["v"])("InputLabel");return Object(o["o"])(),Object(o["f"])("div",null,[Object(o["i"])(c,{modelValue:a.wipSettings["backgroundColor"],"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.wipSettings["backgroundColor"]=e}),element:"ColorPicker",color:r.currentSettings.backgroundColor,onUpdate:t[1]||(t[1]=function(e){return r.setWipSettings("backgroundColor",e)})},{default:Object(o["B"])((function(){return[an]})),_:1},8,["modelValue","color"]),Object(o["g"])("button",{onClick:t[2]||(t[2]=function(){return r.saveSettings&&r.saveSettings.apply(r,arguments)})}," Save "),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(){return r.defaultSettings&&r.defaultSettings.apply(r,arguments)})}," Default ")])}var cn={name:"Settings",components:{InputLabel:en},emits:["close-prompt"],data:function(){return{wipSettings:{}}},mounted:function(){Object.assign(this.wipSettings,this.currentSettings)},computed:{currentSettings:function(){return this.$store.state.canvas.settings}},methods:{setWipSettings:function(e,t){this.wipSettings[e]=t},saveSettings:function(){this.$store.dispatch("canvas/changeSetting",this.wipSettings)},defaultSettings:function(){this.$store.dispatch("canvas/restoreDefaultSettings")}}};const sn=ze()(cn,[["render",rn]]);var ln=sn,un={name:"TopBar",components:{Modal:Re,Creation:on,Settings:ln},emits:["create-new"],data:function(){return{bImporting:!1,creationItemType:null,bWarning:!1,bSettings:!1}},computed:{illustration:function(){return this.$store.state.illustration},hasIllustration:function(){return!!this.illustration},creatables:function(){var e=Object(D["a"])(h["c"].NAMES);return e.filter((function(e){return"dragger"!=e&&"vector"!=e}))},currentSettings:function(){return this.$store.state.canvas.settings}},methods:Object(me["a"])(Object(me["a"])({},Object(a["c"])(["newIllustration","demoJSON","exportTree","importTree"])),{},{promptCreate:function(e){var t=e.target.getAttribute("aria-label");this.hasIllustration?("illustration"==t&&(this.bWarning=!0),this.creationItemType=t):this.newIllustration()},confirmNewIllustration:function(){this.newIllustration(),this.bWarning=!1},cancelPrompt:function(){this.creationItemType=null,this.bWarning=!1,this.bSettings=!1},closeWarning:function(){this.bWarning=!1,this.bImporting&&this.importTree()},importing:function(){this.bImporting=!0,this.hasIllustration?this.bWarning=!0:(this.importTree(),this.bImporting=!1)},demo:function(){var e=n("d1c4").default;this.demoJSON(e)},settings:function(){this.bSettings=!0},saveSettings:function(){this.$store.state.canvas},defaultSettings:function(){}})};n("999f");const dn=ze()(un,[["render",Ce]]);var pn=dn,fn=Object(o["g"])("h2",null,"Properties",-1),hn={class:"row info"},bn={class:"word-break"},vn={class:"text-display-type"},gn={class:"input-name"},On=["value","placeholder"],mn={key:0,class:"field-list"},jn={class:"row"},yn={class:"row"},wn=["for"],kn={class:"row"},Cn=Object(o["h"])(" Are you sure you want to delete? ");function Sn(e,t,n,i,a,r){var c=Object(o["v"])("InputVector"),s=Object(o["v"])("InputLabel"),l=Object(o["v"])("ColorPicker"),u=Object(o["v"])("Backface"),d=Object(o["v"])("Modal");return Object(o["o"])(),Object(o["f"])(o["a"],null,[fn,e.selectedNode&&e.treeLoaded?(Object(o["o"])(),Object(o["f"])("div",{key:0,class:"property-panel",onClick:t[5]||(t[5]=function(){return r.closeTooltip&&r.closeTooltip.apply(r,arguments)})},[Object(o["g"])("div",hn,[Object(o["g"])("div",bn," id: "+Object(o["x"])(e.selected),1),Object(o["g"])("div",vn,Object(o["x"])(r.selectedTypeName),1),Object(o["g"])("label",gn,[Object(o["g"])("input",{value:e.selectedNode["name"],class:"input-name",type:"text",autocomplete:"off",autocorrect:"off",placeholder:r.selectedName,onChange:t[0]||(t[0]=function(){return r.updateName&&r.updateName.apply(r,arguments)})},null,40,On)])]),e.selectedNode&&e.treeLoaded?(Object(o["o"])(),Object(o["f"])("form",mn,[Object(o["g"])("div",jn,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.propList("vectors"),(function(t){return Object(o["o"])(),Object(o["d"])(c,{id:"v_".concat(t),key:t,value:e.selectedNode[t],type:t,onSendCoords:function(e){return r.inputChange(t,e)}},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t)),1)]})),_:2},1032,["id","value","type","onSendCoords"])})),128))]),Object(o["g"])("div",yn,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.propList("nums"),(function(t){return Object(o["o"])(),Object(o["d"])(s,{key:t,class:"field",for:t,element:"input",value:e.selectedNode[t],type:"number",step:"0.1",placeholder:e.selectedNode[t],name:t,onChange:function(e){return r.inputChange(t,e.target.value)}},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t))+": ",1)]})),_:2},1032,["for","value","placeholder","name","onChange"])})),128)),(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.propList("colors"),(function(t){return Object(o["o"])(),Object(o["f"])("label",{class:"field",for:t,key:t},[Object(o["h"])(Object(o["x"])(e.capitalize(t))+": ",1),Object(o["i"])(l,{color:e.selectedNode[t],onUpdate:function(e){return r.inputChange(t,e)}},null,8,["color","onUpdate"])],8,wn)})),128))]),Object(o["g"])("div",kn,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(r.propList("bools"),(function(t){return Object(o["o"])(),Object(o["d"])(s,{key:t,class:"field",for:t,element:"input",value:e.selectedNode[t],type:"checkbox",checked:e.selectedNode[t],name:t,onChange:function(e){return r.inputChange(t,e.target.value)}},{default:Object(o["B"])((function(){return[Object(o["h"])(Object(o["x"])(e.capitalize(t))+": ",1)]})),_:2},1032,["for","value","checked","name","onChange"])})),128)),r.hasBackfaceColor?(Object(o["o"])(),Object(o["d"])(u,{key:0,color:e.selectedNode.backface,threeD:r.isThreeD,checked:!0,onUpdate:t[1]||(t[1]=function(e){return r.inputChange("backface",e)})},null,8,["color","threeD"])):(Object(o["o"])(),Object(o["d"])(u,{key:1,threeD:r.isThreeD,checked:e.selectedNode.backface,onUpdate:t[2]||(t[2]=function(e){return r.inputChange("backface",e)})},null,8,["threeD","checked"]))]),Object(o["g"])("button",{onClick:t[3]||(t[3]=function(){return r.saveProps&&r.saveProps.apply(r,arguments)})}," Apply Changes ")])):Object(o["e"])("",!0),Object(o["g"])("button",{onClick:t[4]||(t[4]=function(e){return a.bWarning=!0})},"Delete")])):Object(o["e"])("",!0),(Object(o["o"])(),Object(o["d"])(o["b"],{to:"body"},[a.bWarning?(Object(o["o"])(),Object(o["d"])(d,{key:0,onClose:t[8]||(t[8]=function(e){return a.bWarning=!1})},{default:Object(o["B"])((function(){return[Cn,Object(o["g"])("button",{onClick:t[6]||(t[6]=function(){return r.deleteSelected&&r.deleteSelected.apply(r,arguments)})}," Yes "),Object(o["g"])("button",{onClick:t[7]||(t[7]=function(e){return a.bWarning=!1})}," Cancel ")]})),_:1})):Object(o["e"])("",!0)]))],64)}var Pn={name:"PropertyPanel",components:{InputVector:Mt,ColorPicker:$t,Backface:qt,InputLabel:en,Modal:Re},mixins:[r["a"]],data:function(){return{READ_ONLY:["type","id"],wipTooltip:null,bWarning:!1}},computed:Object(me["a"])(Object(me["a"])({},Object(a["e"])({selected:function(e){return e.selected},treeLoaded:function(e){return e.treeLoaded},displayProps:function(e){return e.properties.displayProps},selectedNode:function(e){return e.properties.displayProps.node}})),{},{selectedName:function(){if(this.$store.state.treeview.selectedListNode)return this.$store.state.treeview.selectedListNode.name},selectedTypeName:function(){return h["c"].NAMES[this.selectedNode.type]},hasColor:function(){return this.selectedAllProps.includes("color")},hasBackfaceColor:function(){var e=this.selectedNode.backface;return"string"==typeof e},isThreeD:function(){return"cylinder"==this.selectedTypeName||"hemisphere"==this.selectedTypeName||"cone"==this.selectedTypeName}}),methods:Object(me["a"])(Object(me["a"])({},Object(a["c"])("properties",["changeDisplay","updateProps","editDisplay"])),{},{propList:function(e){var t=this.displayProps.props[e];return"colors"==e&&(t=t.filter((function(e){return"backface"!=e}))),t},saveProps:function(e){e.preventDefault()},editProp:function(e,t){var n={option:e,value:t};this.editOption(n)},inputChange:function(e,t){var n={};n[e]=t,this.updateProps(n)},updateName:function(e){var t=e.target.value,n={name:t};this.updateProps(n),this.$store.dispatch("history/updateSelectedName",t)},closeTooltip:function(){},deleteSelected:function(){this.$store.dispatch("history/deleteZdog",this.selected),this.bWarning=!1}})};n("09fe");const xn=ze()(Pn,[["render",Sn]]);var Nn=xn,Tn=Object(o["g"])("h2",null,"Tree View",-1),In=Object(o["h"])(" TODO: filter anchors, add icon, searchbar "),zn=Object(o["g"])("header",{class:"row between text-display-type"},[Object(o["g"])("div",{class:"col index"}," Index "),Object(o["g"])("div",{class:"col name"}," Name "),Object(o["g"])("div",{class:"col type"}," Type ")],-1),Dn={key:0,class:"tree-bg"},Rn=Object(o["g"])("br",null,null,-1),Mn=Object(o["g"])("h2",null,"HTML Code",-1),En=Object(o["g"])("p",null,"Copy and paste into an HTML file.",-1),An=["value"];function _n(e,t,n,i,a,r){var c=Object(o["v"])("TreeItem"),s=Object(o["v"])("Modal");return Object(o["o"])(),Object(o["f"])(o["a"],null,[Tn,In,zn,e.treeView&&e.treeLoaded?(Object(o["o"])(),Object(o["f"])("ul",Dn,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(e.treeView,(function(e){return Object(o["o"])(),Object(o["d"])(c,{key:e.id,node:e,depth:0},null,8,["node"])})),128)),Object(o["g"])("button",{onClick:t[0]||(t[0]=function(){return r.embedGen&&r.embedGen.apply(r,arguments)})}," Code Embed "),Rn])):Object(o["e"])("",!0),(Object(o["o"])(),Object(o["d"])(o["b"],{to:"body"},[a.bEmbed?(Object(o["o"])(),Object(o["d"])(s,{key:0,onClose:t[2]||(t[2]=function(e){return a.bEmbed=!1})},{default:Object(o["B"])((function(){return[Mn,En,Object(o["g"])("textarea",{class:"embed",ref:"embedText",value:e.embed},null,8,An),Object(o["g"])("button",{onClick:t[1]||(t[1]=function(){return r.embedCopy&&r.embedCopy.apply(r,arguments)})}," Copy ")]})),_:1})):Object(o["e"])("",!0)]))],64)}var Vn={class:"index"},Ln={class:"name"},Fn={class:"text-display-type type"},$n={key:0,class:"drag-over-ghost"},Bn={key:1};function Un(e,t,n,i,a,r){var c=Object(o["v"])("ClickToEdit"),s=Object(o["v"])("TreeItem",!0);return n.node?(Object(o["o"])(),Object(o["f"])("li",{key:0,class:"tree-item",onDragover:t[4]||(t[4]=function(){return r.dragOver&&r.dragOver.apply(r,arguments)}),onDragleave:t[5]||(t[5]=function(e){return a.dragOverIndicate=!1}),onDrop:t[6]||(t[6]=function(){return r.drop&&r.drop.apply(r,arguments)})},[Object(o["g"])("div",{ref:"selectitem",class:Object(o["l"])({"data-set":!0,row:!0,highlight:e.selected==n.node.id}),draggable:"true",onClick:t[1]||(t[1]=Object(o["D"])((function(){return r.highlight&&r.highlight.apply(r,arguments)}),["stop"])),onDragstart:t[2]||(t[2]=function(){return r.dragStart&&r.dragStart.apply(r,arguments)}),onDragend:t[3]||(t[3]=function(){return r.dragEnd&&r.dragEnd.apply(r,arguments)})},[Object(o["g"])("div",Vn,[r.hasChildren?(Object(o["o"])(),Object(o["f"])("button",{key:0,onClick:t[0]||(t[0]=function(){return r.toggleCollapse&&r.toggleCollapse.apply(r,arguments)})},Object(o["x"])(a.collapsed?"+":"-"),1)):Object(o["e"])("",!0),Object(o["g"])("p",null,Object(o["x"])(n.node.index),1)]),Object(o["g"])("div",Ln,[Object(o["i"])(c,{element:"input",dbl:!0,autofocus:"",type:"text",placeholder:n.node.name,label:n.node.name,onEditFinish:r.finishEditAssignedName},null,8,["placeholder","label","onEditFinish"])]),Object(o["g"])("div",Fn,Object(o["x"])(n.node.type),1)],34),a.dragOverIndicate?(Object(o["o"])(),Object(o["f"])("div",$n)):Object(o["e"])("",!0),r.hasChildren?(Object(o["o"])(),Object(o["f"])("ul",Bn,[(Object(o["o"])(!0),Object(o["f"])(o["a"],null,Object(o["t"])(n.node.children,(function(e){return Object(o["o"])(),Object(o["d"])(s,{key:e.id,class:Object(o["l"])({collapsed:a.collapsed}),node:e,"parent-id":n.node.id,onSelectUncollapse:r.uncollapseBubble},null,8,["class","node","parent-id","onSelectUncollapse"])})),128))])):Object(o["e"])("",!0)],32)):Object(o["e"])("",!0)}function Wn(e,t,n,i,a,r){return Object(o["o"])(),Object(o["f"])(o["a"],null,[a.editing?(Object(o["o"])(),Object(o["d"])(Object(o["w"])(n.element),Object(o["k"])({key:0},e.$attrs,{ref:"inp",onKeydown:r.keydownHandler,onBlur:r.finish,onChange:r.finish}),{default:Object(o["B"])((function(){return[Object(o["u"])(e.$slots,"default")]})),_:3},16,["onKeydown","onBlur","onChange"])):Object(o["e"])("",!0),n.dbl&&!a.editing?(Object(o["o"])(),Object(o["f"])("label",{key:1,onDblclick:t[0]||(t[0]=function(){return r.edit&&r.edit.apply(r,arguments)})},Object(o["x"])(n.label),33)):Object(o["e"])("",!0),n.dbl||a.editing?Object(o["e"])("",!0):(Object(o["o"])(),Object(o["f"])("label",{key:2,onClick:t[1]||(t[1]=function(){return r.edit&&r.edit.apply(r,arguments)})},Object(o["x"])(n.label),1))],64)}var Gn={name:"ClickToEdit",inheritAttrs:!1,props:{dbl:{type:Boolean,default:!1},label:{type:String,default:null},element:{type:String,default:"input"}},emits:["edit-start","edit-change","edit-finish"],data:function(){return{editing:!1}},methods:{keydownHandler:function(e){13==e.keyCode&&this.finish()},edit:function(){this.editing=!0,this.$emit("edit-start")},finish:function(){this.editing=!1,this.$emit("edit-finish",this.$refs.inp.value)}}};const Zn=ze()(Gn,[["render",Wn]]);var Jn=Zn,Hn={name:"TreeItem",components:{ClickToEdit:Jn},props:{node:{type:Object,default:null},parentId:{type:String,default:null}},emits:["drag-started","drag-stop","select-uncollapse"],data:function(){return{dragOverIndicate:!1,editingName:!1,collapsed:!0}},computed:Object(me["a"])(Object(me["a"])({},Object(a["e"])({selected:"selected",updateTree:"updateTree"})),{},{isSelected:function(){return this.selected==this.node.id},hasChildren:function(){return this.node.children&&this.node.children.length>0},validDropzone:function(){var e=this.node.id;return!this.$store.state.treeview.blockIds.includes(e)},truncName:function(){var e=20,t=this.node.name;return t.substr(0,e-1)+(t.length>e?"&hellip;":"")}}),methods:Object(me["a"])(Object(me["a"])({},Object(a["c"])({changeSelectedName:"history/updateSelectedName",changeSelected:"changeSelected",saveSelected:"treeview/saveSelected",startDrag:"treeview/startDrag",stopDrag:"treeview/stopDrag"})),{},{dragStart:function(e){var t={childId:this.node.id};this.startDrag({blockIds:[this.node.id,this.parentId]}),e.dataTransfer.setData("text/plain",JSON.stringify(t))},dragEnd:function(){this.dragOverIndicate=!1,this.stopDrag()},dragOver:function(e){e.preventDefault(),e.stopPropagation(),this.validDropzone&&(this.dragOverIndicate=!0,e.dataTransfer.dropEffect="move")},drop:function(e){if(e.preventDefault(),e.stopPropagation(),this.validDropzone){var t=JSON.parse(e.dataTransfer.getData("text/plain")),n={id:t.childId,newParentId:this.node.id};this.$store.dispatch("treeview/sortItem",n),this.dragEnd()}},finishEditAssignedName:function(e){e&&e!=this.node.name&&this.changeSelectedName(e)},highlight:function(){this.selected!=this.node.id&&(this.changeSelected(this.node.id),this.saveSelected(this.node))},toggleCollapse:function(e){e.preventDefault(),e.stopPropagation(),this.collapsed=!this.collapsed},log:function(e){console.log(e)},uncollapseBubble:function(){this.collapsed=!1,this.$emit("select-uncollapse")}}),watch:{isSelected:function(e){this.collapsed&&1==e&&this.$emit("select-uncollapse")}}};n("a750");const qn=ze()(Hn,[["render",Un]]);var Kn=qn,Yn={name:"TreeView",components:{TreeItem:Kn,Modal:Re},data:function(){return{ghost:!1,rerender:!1,draggingObject:null,dragId:null,bEmbed:!1}},computed:Object(me["a"])({},Object(a["e"])({illustration:"illustration",treeLoaded:"treeLoaded",embed:function(e){return e.treeview.embed},treeView:function(e){return e.treeview.list}})),watch:{illustration:function(e){e&&this.$store.dispatch("treeview/changeList")}},methods:{getPanelWidth:function(){return this.$parent.$refs.treeview.clientWidth},log:function(){console.log(this.treeView)},embedGen:function(){this.bEmbed=!0,this.$store.dispatch("treeview/createEmbed")},embedCopy:function(){var e=this.$refs.embedText;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}}};n("7fc6");const Qn=ze()(Yn,[["render",_n]]);var Xn=Qn,eo=["width","height"],to=["width","height"],no={class:"canvas developer"},oo=Object(o["g"])("div",{id:"zoom-control"},null,-1);function io(e,t,n,i,a,r){return Object(o["o"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("canvas",{id:"canvas",ref:"workingCanvas",class:"zdog-canvas",width:r.windowWidth,height:r.windowHeight,style:Object(o["m"])(r.canvasStyle)},null,12,eo),Object(o["g"])("canvas",{id:"ghost",class:Object(o["l"])({hidden:a.hideGhost}),width:r.windowWidth,height:r.windowHeight},null,10,to),Object(o["g"])("div",no,[Object(o["g"])("button",{style:{"z-index":"200"},onClick:t[0]||(t[0]=function(e){return a.hideGhost=!a.hideGhost})},"Toggle")]),oo],64)}var ao={name:"Canvas",data:function(){return{hideGhost:!0}},computed:Object(me["a"])(Object(me["a"])(Object(me["a"])({},Object(a["e"])({settings:function(e){return e.canvas.settings},selected:function(e){return e.selected},illustration:function(e){return e.illustration}})),Object(a["d"])({selectedNode:"selectedNode"})),{},{windowWidth:function(){return window.innerWidth},windowHeight:function(){return window.innerHeight},canvasStyle:function(){return{backgroundColor:this.settings.backgroundColor}}}),watch:{selectedNode:function(e,t){e&&e!=t?this.showSelectedAxes():this.clearSelectedAxes()}},methods:Object(me["a"])(Object(me["a"])({},Object(a["c"])("canvas",["showSelectedAxes","clearSelectedAxes","clearCanvasAxes"])),{},{clickHandler:function(e){console.log(this.getMousePos(e))},getMousePos:function(e){return console.log(this.camera.zoom),{x:e.clientX,y:e.clientY}}})};n("bc08");const ro=ze()(ao,[["render",io]]);var co=ro,so=n("c3de"),lo={name:"App",components:{TopBar:pn,PropertyPanel:Nn,TreeView:Xn,Canvas:co},setup:function(){var e=Object(o["s"])(null),t=Object(o["s"])(null);return Object(o["n"])((function(){window.split=Object(so["a"])({columnGutters:[{track:1,element:e.value},{track:3,element:t.value}]})})),{gutter1:e,gutter2:t}},data:function(){return{bWarning:!1,isClickInsideEvent:null}},computed:Object(me["a"])({},Object(a["e"])(["selected"])),methods:Object(me["a"])(Object(me["a"])({},Object(a["c"])(["changeSelected"])),{},{getRef:function(e){return this.$refs[e]},deselect:function(e){if(this.selected){var t=this.$refs.treeview.contains(e.target);t&&this.changeSelected(null)}},logSelected:function(){console.log(this.$store.getters["selectedNode"])}})};n("c621");const uo=ze()(lo,[["render",Oe]]);var po=uo,fo=Object(o["c"])(po);fo.use(de),fo.mount("#app")},"6a61":function(e,t,n){"use strict";n("b284")},"6b98":function(e,t,n){},"70bd":function(e,t,n){"use strict";n("bba4")},"776d":function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return $}));var o=n("2909"),i=n("1da1"),a=n("d4ec"),r=n("bee2"),c=n("15fd"),s=n("b85c"),l=(n("96cf"),n("b64b"),n("4de4"),n("d3b7"),n("caad"),n("25f0"),n("8ba4"),n("a9e3"),n("b0c0"),n("159b"),n("d9e2"),n("d81d"),n("4ec9"),n("3ca3"),n("ddb0"),n("6062"),n("bf19"),n("2b3d"),n("9861"),n("a630"),n("ac1f"),n("5319"),n("99af"),n("7db0"),n("fb6a"),n("e9c4"),n("e72d")),u=n.n(l),d=n("0c7c"),p=n.n(d),f=["id","name","type"],h=[u.a.Anchor,u.a.Shape,u.a.Cone,u.a.Cylinder,u.a.Dragger,u.a.Ellipse,u.a.Group,u.a.Hemisphere,u.a.Illustration,u.a.Polygon,u.a.Rect,u.a.RoundedRect,u.a.Box,u.a.Vector],b={anchor:0,shape:1,cone:2,cylinder:3,dragger:4,ellipse:5,group:6,hemisphere:7,illustration:8,polygon:9,rect:10,roundedrect:11,box:12,vector:13},v=Object.keys(b),g=["addTo","dragRotate","onPrerender","onDragStart","onDragMove","onDragEnd","onResize","element"],O=function(e){return e.filter((function(e){return!g.includes(e)}))},m=Date.now();function j(){var e=function(){return m^=m<<13,m^=m>>17,m^=m<<5,m},t=(Math.floor(25*Math.random())+10).toString(36),n=e(m);return t+=(n<0?-n:n).toString(36),t}function y(e){var t=h[e];return function(n){var o=new t(n);return C(o),k(o),S(o,e),o}}var w=function(e){return y(b[e])};function k(e,t){t||(t="untitled"),Object.defineProperty(e,"name",{enumerable:!0,writable:!0,configurable:!1,value:t})}function C(e){e.id=j(),Object.defineProperty(e,"id",{enumerable:!0,configurable:!1,writable:!1})}function S(e,t){Object.defineProperty(e,"type",{enumerable:!0,writable:!1,configurable:!1,value:t})}function P(e,t){var n=0;if("string"==typeof t)t=t.toLowerCase(),n=b[t];else{if(!Number.isInteger(t))return!1;n=t}return e instanceof h[n]}function x(e){for(var t=-1,n=v.length-1;n>=0;n--)if(P(e,n)){t=n;break}if(t<0)return e;e.name||k(e,"untitled"),e.id||C(e),e.type||S(e,t);var o,i=Object(s["a"])(e.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;x(a)}}catch(r){i.e(r)}finally{i.f()}return e}function N(e){var t=e.copyGraph();return x(t),t}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x(t?e.copyGraph():e.copy())}function I(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,n=t.id,o=t.name,i=t.type,a=Object(c["a"])(t,f),r=new h[i](a);return k(r,o),S(r,i),r.id=n,Object.defineProperty(r,"id",{enumerable:!0,configurable:!1,writable:!1}),r}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".zdog-canvas";if(e&&!isNaN(e.type)){var n=e.type;if(4!=n){var o=h[n],i=o.optionKeys.filter((function(e){return!g.includes(e)}));if(i){var a={type:n,name:e.name,id:e.id},r=function(n){if("dragRotate"==n){if("boolean"!=typeof e[n])return!0}else if("element"==n)return t;return e[n]};return i.forEach((function(e){a[e]=r(e)})),8==n&&(a.element=t),a}}}}function D(e){var t;t=e.constructor.optionKeys;var n,o={},i=Object(s["a"])(O(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;o[a]=e[a]}}catch(r){i.e(r)}finally{i.f()}return Object.assign(o,{name:e.name,type:e.type,id:e.id}),o}function R(e){var t;try{return t="number"==typeof e?h[e].optionKeys:"string"==typeof e?h[b[e.toLowerCase()]].optionKeys:e.optionKeys?e.optionKeys:e.constructor.optionKeys,O(t)}catch(n){throw new Error(n)}}var M=function(){function e(t){Object(a["a"])(this,e),this.tree=null,t&&(t instanceof E?this.tree=t:this.reviveTree(t))}return Object(r["a"])(e,[{key:"reviveTree",value:function(t){var n=this,o=t;"string"==typeof t?o=JSON.parse(t,e.revivePlain):o.nodes=o.nodes.map((function(e){return I(e)}));var i=new Map;o.nodes.forEach((function(e){i.set(e.id,e),e.id==o.illustration&&(n.tree=new E(e,o.canvasQuery))})),this.tree.nodeMap=i,this.tree.relationMap=new Map;var a,r=Object(s["a"])(o.relations);try{var c=function(){l=a.value;var e=i.get(l.parent),t=new Set(l.children.map((function(t){var n=i.get(t);return e.addChild(n),t})));n.tree.relationMap.set(l.parent,t)};for(r.s();!(a=r.n()).done;){var l;c()}}catch(u){r.e(u)}finally{r.f()}return this.tree}},{key:"download",value:function(){if(!this.tree)throw new Error("Cannot download if there is no tree");var t=this.tree.toJSON();e.Download(t,"".concat(this.tree.illustration.name,".json"),"text/json")}},{key:"load",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){e.import().then((function(e){var o=new FileReader;o.onloadend=function(e){n.reviveTree(e.target.result),t(n.tree)};var i,a=Object(s["a"])(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;o.readAsText(r)}}catch(c){a.e(c)}finally{a.f()}})).catch((function(e){o(e)}))})));case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}],[{key:"revivePlain",value:function(e,t){if("nodes"==e){var n=t.map((function(e){return I(e)}));return n}return t}},{key:"Download",value:function(e,t,n){var o=document.createElement("a"),i=new Blob([e],{type:n});o.href=URL.createObjectURL(i),o.download=t,o.click()}},{key:"import",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",".json"),e.abrupt("return",new Promise((function(e,n){t.addEventListener("change",(function(t){var o=t.target.files;null!==o&&void 0!==o?e(t.target.files):n("No file chosen")})),t.click()})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".zdog-canvas";Object(a["a"])(this,e);var o={element:n,width:window.innerWidth,height:window.innerHeight};if(this.canvasQuery=n,this.nodeMap=new Map,this.relationMap=new Map,t){if(t.element&&"string"!=typeof t.element)F.is(t,"illustration")&&(t.id?this.illustration=t:(this.illustration=N(t),this.flatten(this.illustration),this.illustration.name="root"));else{t.element&&(this.canvasQuery=t.element);var i=Object.assign(o,t);this.illustration=w("illustration")(i)}this.illustration.setSize(o.width,o.height),this.addNode(this.illustration)}else this.illustration=null}return Object(r["a"])(e,[{key:"flatten",value:function(t){var n=e._nodeID(t);if(t.id||x(t),this.nodeMap.set(n,t),t.addTo){var o=t.addTo.id,i=this.relationMap.get(o);if(!i)return void this.relationMap.set(o,new Set([n]));i.add(n)}if(t.children.length>0){var a=this.relationMap.get(n);a||(a=new Set,this.relationMap.set(n,a));var r,c=Object(s["a"])(t.children);try{for(c.s();!(r=c.n()).done;){var l=r.value;isNaN(l.type)||(a.add(l.id),this.flatten(l))}}catch(u){c.e(u)}finally{c.f()}}return t.id}},{key:"trimNode",value:function(e){var t=this,n=e.id,o=e.name,i=e.type,a=e.visible,r=e.children,c=Object.assign({},{id:n,name:o,type:i,visible:a,children:r});return!n||isNaN(i)?null:(c.index=this.indexOf(e),c.type=v[i],void 0===a&&(a=!0),r&&r.length>0?c.children=r.map((function(e){return t.trimNode(e)})).filter((function(e){return e})):r=null,c)}},{key:"trimmedView",value:function(){return[this.trimNode(this.illustration)]}},{key:"plain",value:function(){var e=this.illustration,t=this.canvasQuery,n=this.nodeMap,i=this.relationMap,a={illustration:e.id,nodes:Object(o["a"])(n.values()).map((function(e){return z(e,t)})),relations:Object(o["a"])(i.entries()).map((function(e){var t=e[0],n=e[1];return{parent:t,children:Array.from(n)}}))};return a}},{key:"clone",value:function(){return new M(this.plain()).tree}},{key:"toJSON",value:function(){return $.toString(this.plain())}},{key:"addNode",value:function(e){this.flatten(e)}},{key:"_addRelation",value:function(e,t){var n=this.relationMap.get(e);n||(n=new Set);var o,i=Object(s["a"])(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.add(a)}}catch(r){i.e(r)}finally{i.f()}this.relationMap.set(e,n)}},{key:"removeNode",value:function(e){if(e==this.illustration.id)throw new Error("Cannot delete root");var t=this.nodeMap.get(e);if(t.children){var n=t.addTo;t.children.map((function(e){e.remove(),n.addChild(e)}));var i=this.relationMap.get(e);i&&(i=Object(o["a"])(i),this._addRelation(this.relationMap.get(n.id),i))}return this.relationMap.delete(e),this.relationMap.forEach((function(t){t.delete(e)})),this.nodeMap.delete(e),t.remove(),t}},{key:"changeParent",value:function(e,t){var n=this.nodeMap.get(e),o=n.addTo,i=this.nodeMap.get(t);return this.relationMap.get(o.id).delete(e),this._addRelation(t,[e]),o&&o.removeChild(n),i.addChild(n),i}},{key:"nodes",get:function(){return Object(o["a"])(this.nodeMap.values())}},{key:"indexOf",value:function(t){var n=e._nodeID(t);return Object(o["a"])(this.nodeMap.keys()).indexOf(n)}},{key:"hasChildren",value:function(t){var n=e._nodeID(t),i=Object(o["a"])(this.relationMap.get(n).values());return i.children.some((function(e){return!isNaN(e.type)}))}},{key:"hasParent",value:function(t){var n=e._nodeID(t),o=this.relationMap.get(n);return o&&o.size()>0}},{key:"find",value:function(e){return this.nodeMap.get(e)}},{key:"getChildNodes",value:function(t){var n=this,o=e._nodeID(t),i=[];return this.relationMap.forEach((function(e){e.from==o&&i.push(e.to)})),i.map((function(e){n.nodeMap.get(e)}))}},{key:"groups",get:function(){return this.anchors.filter((function(e){return P(e,6)}))}},{key:"anchors",get:function(){return this.nodes.filter((function(e){return P(e,0)}))}},{key:"generateEmbed",value:function(e){var t=e.selector,n=e.width,o=e.height,i=e.bgColor,a=e.mini,r="";return r+=A(t,n,o,i)+"\n",r+='<script src="https://unpkg.com/zdog@1/dist/zdog.dist.min.js"><\/script>\n',r+=_(this,t,a),r}}],[{key:"findRoot",value:function(t){return t.id&&t.type||!t.addTo?t:e.findRoot(t.addTo)}},{key:"_nodeID",value:function(e){var t=e;return t="string"===typeof node?e:e.id,t}}]),e}();function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".zdog-canvas",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"transparent",i="",a=function(e){return e.substr(1,e.length-1)};switch(e[0]){case".":i='class="'.concat(a(e),'"');break;case"#":i='id="'.concat(a(e));break;case"[":i=e.replace(/\[\]\^\*\$/g,"");break;default:i='class="'.concat(e,'"')}return"<canvas ".concat(i,' width="').concat(t,'" height="').concat(n,'" style="background-color:').concat(o,'"></canvas>')}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".zdog-canvas",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="<script>",a=n?"":"\n",r=e.trimmedView(),c=function e(t){var n=[t];return t.children&&t.children.length>0&&t.children.forEach((function(i){i.addTo=t.id,n=[].concat(Object(o["a"])(n),Object(o["a"])(e(i)))})),n},s=v.map((function(e){return V(e)}));s[11]="RoundedRect";for(var l=c(r[0]),u=0;u<l.length;u++){var d=l[u].id,f=s[b[l[u].type]],h=e.find(d),g=D(h),O="".concat(a,"var ").concat(d," = new Zdog.").concat(f,"(");"Illustration"==f&&(g.dragRotate=!0,g.element=t),delete g.id,delete g.type,delete g.name;var m=h.constructor.defaults;for(var j in m)m[j]==g[j]&&delete g[j];for(var y in g)"translate"!=y&&"rotate"!=y||(0==g[y].x&&delete g[y].x,0==g[y].y&&delete g[y].y,0==g[y].z&&delete g[y].z,g[y]=={}&&delete g[y]),"scale"==y&&(1==g[y].x&&delete g[y].x,1==g[y].y&&delete g[y].y,1==g[y].z&&delete g[y].z,g[y]=={}&&delete g[y]);var w=p()(g,{dropQuotesOnKeys:!0,minify:n});l[u].addTo?(O+=w.slice(0,w.length-1),O+=",".concat(a,"addTo: ").concat(l[u].addTo).concat(a,"}")):O+=w,O+=");"+a,i+=O}return i+="".concat(a,"function animate(){").concat(e.illustration.id,".updateRenderGraph();").concat(a,"requestAnimationFrame(animate);}").concat(a,"animate();").concat(a,"<\/script>"),i}function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}var L={TYPES:h,ENUMS:b,NAMES:v},F={make:function(e){return"string"==typeof e?w(e):"number"==typeof e?y(e):e.id?I(e):null},copy:T,is:P,import:N,revive:I,toObject:z,justProps:D,propsFor:R,CLASS:L,Tree:E,Reader:M},$={capitalize:V,toString:function(e){return JSON.stringify(e)}}},"7fc6":function(e,t,n){"use strict";n("32f9")},"8e3a":function(e,t,n){"use strict";n("b997")},"91f9":function(e){e.exports=JSON.parse('{"optionValidator":{"width":{"type":"number","default":0},"height":{"type":"number","default":0},"stroke":{"type":"number","default":1},"depth":{"type":"number","default":1},"radius":{"type":"number","default":0},"sides":{"type":"number","default":0},"diameter":{"type":"number","default":0},"quarters":{"type":"integer","default":0},"cornerRadius":{"type":"number","default":0},"length":{"type":"number","default":0},"color":{"type":"string","default":"#ba9661"},"fill":{"type":"boolean","default":true},"leftFace":{"type":"string","default":"#3e3e3e"},"rightFace":{"type":"string","default":"#3e3e3e"},"backFace":{"type":"string","default":"#3e3e3e"},"bottomFace":{"type":"string","default":"#3e3e3e"},"topFace":{"type":"string","default":"#3e3e3e"},"frontFace":{"type":"string","default":"#3e3e3e"},"rearFace":{"type":"string","default":"#3e3e3e"},"closed":{"type":"boolean","default":true},"path":{"type":"array","default":null},"x":{"type":"number","default":0},"y":{"type":"number","default":0},"z":{"type":"number","default":0},"translate":{"type":"object","default":{"x":0,"y":0,"z":0}},"rotate":{"type":"object","default":{"x":0,"y":0,"z":0}},"scale":{"type":"object","default":{"x":1,"y":1,"z":1}},"element":{"type":"string","default":".zdog-canvas"},"centered":{"type":"boolean","default":true},"zoom":{"type":"number","default":10},"dragRotate":{"type":"boolean","default":true},"resize":{"type":"boolean","default":false},"visible":{"type":"boolean","default":true},"front":{"type":"object","default":{"z":1}},"backface":{"type":"boolean","default":true},"updateSort":{"type":"boolean","default":false}}}')},"938c":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n("15fd");var o=n("3835"),i=n("ade3"),a=n("b85c"),r=n("2909"),c=n("d4ec"),s=n("bee2"),l=(n("99af"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("d9e2"),n("4de4"),n("caad"),n("2532"),n("6062"),n("d81d"),n("fb6a"),n("ac1f"),n("a9e3"),n("e72d")),u=n.n(l),d=n("776d"),p=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame;function h(e,t,n){var o=e.getImageData(t,n,1,1),i=o.data;return[i[0],i[1],i[2]]}function b(e){return"".concat(e[0]).concat(e[1]).concat(e[2])}function v(e){return"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}var g=function(){function e(t,n){var o=this;Object(c["a"])(this,e),this.ztree=t,this.ghost=n,this.init();var i=function(e){e.setTransform.apply(e,Object(r["a"])(o.transformMatrix)),o.ghost.rotate=o.ztree.illustration.rotate,o.ghost.translate=o.ztree.illustration.translate,o.ghost.updateGraph()};this.ghost.onPrerender=i}return Object(s["a"])(e,[{key:"init",value:function(){var t=this.ztree.clone();this.ghostNodes=t.nodeMap,this.ghost.children=t.illustration.children,this.colorMap=new Map,this.nodeColors=new Map;var n,o=this.ghostNodes.values(),i=Object(a["a"])(o);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!r.isCanvas){var c=k();e.setUniformColor(r,c),this._setMaps(r,c)}}}catch(s){i.e(s)}finally{i.f()}}},{key:"nodeMap",get:function(){return this.ztree.nodeMap}},{key:"transformMatrix",get:function(){return this.ztree.illustration.transformMatrix}},{key:"pruneGhost",value:function(){var e=this,t={};for(var n in this.ghostNodes.forEach((function(e){e.id&&e.type&&!e.isCanvas&&(t[e.id]=!0)})),this.nodeMap.forEach((function(n,o){e.nodeColors.has(o)?(t[o]=!1,e.updateNode(o)):n.isCanvas||e.addNode(n)})),t)t[n]&&this.removeNode(n)}},{key:"addNode",value:function(t){if(!t.id)throw new Error('Invalid zdog object (must have "id" property ');var n=k(),o=t.copy();Object.assign(o,d["b"].justProps(t));var i=t.addTo.id;if(this.ghostNodes.has(i)){var a=this.ghostNodes.get(i);a.addChild(o)}return e.setUniformColor(o,n),this._setMaps(o,n),o}},{key:"removeNode",value:function(e){var t=this.ghostNodes.get(e);t.remove();var n=this.nodeColors.get(e);this.colorMap.delete(n),this.nodeColors.delete(e),this.ghostNodes.delete(e)}},{key:"_setMaps",value:function(e,t){if(e.id&&void 0!==e.type){var n=b(t);this.colorMap.set(n,e.id),this.nodeColors.set(e.id,n),this.ghostNodes.set(e.id,e)}}},{key:"updateNode",value:function(e){var t=this.nodeMap.get(e),n={},o=d["b"].propsFor(t).filter((function(e){return!w.includes(e)}));o.forEach((function(e){n[e]=t[e]}));var i=this.ghostNodes.get(e);Object.assign(i,n)}},{key:"changeParent",value:function(e,t){var n=this.ghostNodes.get(e);n.remove(),this.ghostNodes.get(t).addChild(n)}},{key:"getShape",value:function(e,t){this.ghost.renderGraph();var n=h(this.ghost.ctx,e,t);return this.colorMap.get(b(n))}}],[{key:"setUniformColor",value:function(t,n){var o=v(n),i=d["b"].justProps(t),a=function(e){w.forEach((function(t){e[t]&&(e[t]=o)}))};return a(t),t.children.forEach((function(t){if(!t.id){e.setUniformColor(t,n);var o=t._flatGraph;o&&o.forEach((function(t){e.setUniformColor(t,n)}))}})),i}}]),e}(),O=new Event("deselect"),m=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ghostQuery:".zdog-ghost",zoomSpeed:1,panInverse:!1,panSpeed:30};for(var a in Object(c["a"])(this,e),Object(i["a"])(this,"animReq",null),Object(i["a"])(this,"dragging",!1),Object(i["a"])(this,"canPan",!1),Object(i["a"])(this,"isMouseDown",0),Object(i["a"])(this,"totaldelta",0),Object(i["a"])(this,"animate",(function(){n.illustration.updateRenderGraph(),n.animReq=p(n.animate)})),o)this[a]=o[a];this.ztree=t,this.illustration=t.illustration,this.ghostIllo=new u.a.Illustration({element:this.ghostQuery,dragRotate:!1}),this.ghostCanvas=new g(t,this.ghostIllo),this.unitAxes=new j({addTo:t.illustration}),this.eye={},this.worldPosition=new u.a.Vector,this.phi=this.illustration.rotate.x,this.theta=this.illustration.rotate.y,this.rho=this.defaultRho,this.events={wheel:[],down:[],up:[],move:[]};var r=this;this.dragger=new u.a.Dragger({startElement:r.illustration.element,onDragStart:function(e,t){r.cursordown(e,t)},onDragMove:function(e,t,n,o){r.cursormove(e,t,n,o)},onDragEnd:function(e){r.cursorup(e)}}),this.onwheel=function(e){return n._dispatch("wheel",e)},r.illustration.element.addEventListener("wheel",this.onwheel),this.on("wheel",this.zooming.bind(this)),this.label=document.createElement("span"),this.animate()}return Object(s["a"])(e,[{key:"x",get:function(){return this.rho*Math.cos(this.phi)*Math.sin(this.theta)}},{key:"y",get:function(){return this.rho*Math.sin(this.phi)}},{key:"z",get:function(){return this.rho*Math.cos(this.phi)*Math.cos(this.theta)}},{key:"defaultRho",get:function(){return this.illustration.canvasHeight/2}},{key:"cursordown",value:function(e,t){this.x0=t.pageX,this.y0=t.pageY,this.totaldelta=0,this.isMouseDown=e.buttons,1==e.button&&(this.canPan=!0),this._dispatch("down",e)}},{key:"cursormove",value:function(e,t,n,o){this.canPan?this.dragPan(t):this.dragRotate(t,n,o),this._dispatch("move",e)}},{key:"dragPan",value:function(e){var t=this._screendelta(e),n=Object(o["a"])(t,2),i=n[0],a=n[1];this.panInverse||(i*=-1,a*=-1);var r=this.panSpeed/100,c=this.illustration.translate.y+a*r,s=this.illustration.translate.x+i*r,l={x:s,y:c,z:this.z};this.illustration.translate=l}},{key:"dragRotate",value:function(e){var t=this._screendelta(e),n=Object(o["a"])(t,2),i=n[0],a=n[1];this.theta=this.theta+this.radRatio(i),this.phi=this.phi+this.radRatio(a);var r={x:this.phi,y:this.theta,z:this.illustration.rotate.z};this.illustration.rotate=r}},{key:"cursorup",value:function(e){this.isMouseDown=e.buttons,1==e.button&&(this.canPan=!1),Math.abs(this.totaldelta)<5&&this.selection(e),this._dispatch("up",e)}},{key:"_screendelta",value:function(e){var t=this.x0-e.pageX,n=this.y0-e.pageY;return this.x0=e.pageX,this.y0=e.pageY,this.totaldelta+=t+n,[t,n]}},{key:"zooming",value:function(e){e.preventDefault();var t=this.illustration.zoom,n=t+e.deltaY*this.zoomSpeed;console.log(t),console.log("(ρ,θ,φ):(".concat(this.rho,",").concat(this.theta,",").concat(this.phi,")")),console.log(this.defaultRho),this.illustration.zoom-=n/this.defaultRho,this.illustration.zoom<0&&(this.illustration.zoom=.1),this.rho-=this.rho+n,this.label.innerText="".concat(Math.round(100*this.illustration.zoom),"%")}},{key:"selection",value:function(e){var t=this.ghostCanvas.getShape(e.offsetX,e.offsetY);if(t&&t!=this.selectActive){var n=new CustomEvent("selectshape",{detail:{id:t}});this.illustration.element.dispatchEvent(n),this.selectActive=t}else this.selectActive&&!t&&(this.illustration.element.dispatchEvent(O),this.selectActive=!1)}},{key:"keydown",value:function(e){16==e.keyCode&&(this.canPan=!0)}},{key:"keyup",value:function(e){16==e.keyCode&&this.isMouseDown<4&&(this.canPan=!1)}},{key:"on",value:function(e,t){var n=this.events[e];null===n||void 0===n?(this.events[e]=t,this.illustration.element.addEventListener(e,t)):void 0!==n.length&&this.events[e].push(t)}},{key:"_dispatch",value:function(e,t){this.events[e].forEach((function(e){e(t)}))}},{key:"radRatio",value:function(e){return e*(2*Math.PI)/this.illustration.canvasWidth}},{key:"unanimate",value:function(){f(this.animReq)}},{key:"addNode",value:function(e){this.ztree.addNode(e),this.ghostCanvas.addNode(e)}},{key:"removeNode",value:function(e){this.ztree.removeNode(e),this.ghostCanvas.removeNode(e)}},{key:"updateNode",value:function(e){var t=e.node,n=e.options;for(var o in console.log(t),n)t[o]=n[o];this.ghostCanvas.updateNode(t.id)}},{key:"changeParent",value:function(e,t){this.ztree.changeParent(e,t),this.ghostCanvas.changeParent(e,t)}},{key:"destroy",value:function(){f(this.animReq);var e=this.events;for(var t in e)"wheel"==t?this.illustration.element.removeEventListener(t,this.onwheel):void 0==e[t].length||null==e[t].length?(this.illustration.element.removeEventListener(t,e[t]),delete this.events[t]):this.events[t]=[];this.dragger.destroy(),delete this.dragger}}]),e}();Object(i["a"])(m,"ORIGIN",{x:0,y:0,z:0});var j=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{addTo:null,scaleZoom:!1};Object(c["a"])(this,e),Object(i["a"])(this,"flag",63),Object(i["a"])(this,"axes",[]),this.root=new u.a.Anchor;var o=n;n||(o={addTo:null,scaleZoom:!1}),o.t=o.t||window.innerWidth||100;var a=function(e,n){var i={front:e,color:n,visible:!0};Object.assign(i,o);var a=y(i);return t.root.addChild(a),a},r=.6;this.axes=[a({x:1},"x"),a({y:1},"y"),a({z:1},"z"),a({x:-1},"hsla(0,100%,30%,".concat(r,")")),a({y:-1},"hsla(120,100%,30%,".concat(r,")")),a({z:-1},"hsla(240,100%,30%,".concat(r,")"))],n.addTo&&this.addTo(n.addTo)}return Object(s["a"])(e,[{key:"addTo",value:function(e){e.addChild(this.root)}},{key:"remove",value:function(){this.root.remove()}},{key:"update",value:function(){for(var e=0;e<this.axes.length;e++)this.axes[e].visible=(this.flag&1<<e)>0;this.root.updateGraph()}},{key:"hideAll",value:function(){this.flag=0,this.update()}},{key:"showAll",value:function(){this.flag=63,this.update()}},{key:"showPos",value:function(e){this.flag=!1===e?56&this.flag:7|this.flag,this.update()}},{key:"showNeg",value:function(e){this.flag=!1===e?7&this.flag:56|this.flag,this.update()}}]),e}();function y(e){return new u.a.Axis(e)}var w=["color","rearFace","frontFace","leftFace","rightFace","topFace","bottomFace","backface"];function k(){var e=Math.round(16777215*Math.random()),t=e>>16,n=e>>8&255,o=255&e;return[t,n,o]}t["b"]=m},"999f":function(e,t,n){"use strict";n("1380")},"9b5d":function(e,t,n){},a526:function(e,t,n){},a750:function(e,t,n){"use strict";n("9b5d")},a8dd:function(e,t,n){},b284:function(e,t,n){},b997:function(e,t,n){},bba4:function(e,t,n){},bc08:function(e,t,n){"use strict";n("f489")},c621:function(e,t,n){"use strict";n("a526")},c78a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var o=n("938c"),i=n("776d"),a=i["b"].CLASS,r=function(e){return i["b"].make(e)};Object.assign(r,{Tree:i["b"].Tree,Reader:i["b"].Reader,Scene:o["b"],CLASS:a,is:i["b"].is});var c={methods:i["a"]},s=i["b"].propsFor;t["b"]=r},d1c4:function(e,t,n){"use strict";n.r(t);n("bf19");var o=n("e72d"),i=n.n(o),a=n("c78a"),r=i.a.TAU,c="#EA0",s="#C25",l="#636",u=new i.a.Illustration({element:".zdog-canvas",zoom:5,dragRotate:!0}),d=3,p=new i.a.Shape({addTo:u,path:[{x:-d},{x:d}],translate:{y:2},stroke:4,color:l}),f=new i.a.Shape({addTo:p,path:[{y:0},{y:12}],translate:{x:-d},rotate:{x:r/4},color:l,stroke:4}),h=new i.a.RoundedRect({addTo:f,width:2,height:4,cornerRadius:1,translate:{y:14,z:2},rotate:{x:r/4},color:s,fill:!0,stroke:4}),b=f.copy({translate:{x:d},rotate:{x:-r/8}});h.copy({addTo:b,rotate:{x:-r/8}});var v=new i.a.Anchor({addTo:p,rotate:{x:r/8}}),g=new i.a.Shape({addTo:v,path:[{x:-1.5},{x:1.5}],translate:{y:-6.5},stroke:9,color:s}),O=new i.a.Shape({addTo:g,stroke:12,translate:{y:-9.5},color:c}),m=new i.a.Ellipse({addTo:O,diameter:2,quarters:2,translate:{x:-2,y:1,z:4.5},rotate:{z:-r/4},color:l,stroke:.5,backface:!1});m.copy({translate:{x:2,y:1,z:4.5}}),new i.a.Ellipse({addTo:O,diameter:3,quarters:2,translate:{y:2.5,z:4.5},rotate:{z:r/4},closed:!0,color:"#FED",stroke:.5,fill:!0,backface:!1});var j=6,y=new i.a.Shape({addTo:g,path:[{y:0},{y:j}],translate:{x:-5,y:-2},rotate:{x:-r/4},color:l,stroke:4}),w=new i.a.Shape({addTo:y,path:[{y:0},{y:j}],translate:{y:j},rotate:{x:r/8},color:c,stroke:4});new i.a.Shape({addTo:w,translate:{z:1,y:j},stroke:6,color:c}),y.copyGraph({translate:{x:5,y:-2},rotate:{x:r/4}});var k=new a["b"].Tree(u),C=k.toJSON();t["default"]=C},e7cf:function(e,t,n){},f489:function(e,t,n){}});
//# sourceMappingURL=app.197374c3.js.map